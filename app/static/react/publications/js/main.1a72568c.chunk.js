(this["webpackJsonpreact-publications"]=this["webpackJsonpreact-publications"]||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),i=n(3),s=n.n(i),c=(n(13),n(0)),o=n.n(c),u=n(4),l=n(6),p=n(5),f=n(7),g=(n(15),function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(l.a)(this,Object(p.a)(e).call(this,t))).getCurrentUserLogin=function(){var t,e,a;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=new URL("api/login",n.props.urls.clientBase),r.next=3,o.a.awrap(fetch(t));case 3:return e=r.sent,r.next=6,o.a.awrap(e.text());case 6:return a=r.sent,n.setState({login:a}),r.abrupt("return",a);case 9:case"end":return r.stop()}}))},n.getActionList=function(){var t,e;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(fetch(n.props.urls.publicationsApi));case 2:return t=a.sent,a.next=5,o.a.awrap(t.json());case 5:e=a.sent,n.setState({actions:e._links});case 7:case"end":return a.stop()}}))},n.getPublications=function(){var t,e,a,r;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n.state.actions["publications.list"]){i.next=2;break}return i.abrupt("return");case 2:return n.setState({loadingPublications:!0}),t=(t=n.state.actions["publications.list"].href).replace("{user}",n.state.login),e=new URL(t,n.props.urls.publicationsApi),console.log(e),i.next=9,o.a.awrap(fetch(e));case 9:return a=i.sent,i.next=12,o.a.awrap(a.json());case 12:r=i.sent,n.setState({publications:r,loadingPublications:!1});case 14:case"end":return i.stop()}}))},n.componentDidMount=function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(n.getCurrentUserLogin());case 2:return t.next=4,o.a.awrap(n.getActionList());case 4:n.getPublications();case 5:case"end":return t.stop()}}))},n.componentDidUpdate=function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}))},n.render=function(){return console.log(n.state),r.a.createElement("div",{className:"App"},r.a.createElement("section",{class:"container text-center px-5 intro"},r.a.createElement("h1",{class:"mt-5"},"Lista publikacji"),r.a.createElement("p",null,"Publications"),r.a.createElement("p",null,"Login: ",n.state.login),r.a.createElement("p",null,"Loading: ",String(n.state.loadingPublications))))},n.state={login:null,loadingPublications:!1,publications:[],actions:{}},n}return Object(f.a)(e,t),e}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d={clientBase:document.getElementById("app-url").innerText,filesApi:document.getElementById("file-api-url").innerText,publicationsApi:document.getElementById("publications-api-url").innerText};s.a.render(r.a.createElement(g,{urls:d}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},8:function(t,e,n){t.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.1a72568c.chunk.js.map